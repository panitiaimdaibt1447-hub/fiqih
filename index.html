<select id="guruSelect"></select>
<div id="namaGuru"></div>
<div id="quiz"></div>

<script>
const api = "https://script.google.com/macros/s/AKfycbwxq3ajd74C_sn7TYmcdCqPOI-UV7qPlPoOqKhJjlAmT59z9kk-arzKI3MgLckmTqNR/exec";

// ambil list guru
fetch(api + "?action=getGuru")
.then(r => r.json())
.then(data => {
  const select = document.getElementById("guruSelect");
  data.forEach(g => {
    select.innerHTML += `<option value="${g[0]}">${g[0]}</option>`;
  });
});

// saat guru dipilih
document.getElementById("guruSelect").onchange = function() {
  const id = this.value;

  fetch(api + "?action=getKuis&id=" + id)
  .then(r => r.json())
  .then(quiz => {
    document.getElementById("namaGuru").innerText =
      "Guru: " + id;

    let html = "";
    quiz.forEach(q => {
      html += `<p>${q[1]}</p>
               <input type="text">`;
    });

    document.getElementById("quiz").innerHTML = html;
  });
}
</script>
